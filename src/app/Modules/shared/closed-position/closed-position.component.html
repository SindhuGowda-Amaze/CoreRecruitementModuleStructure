<div class="container-fluid">
    <div class="row">
        <div class="col-lg-10">
            <br>
            <p class="Heading" style="color:#3247D5">CLOSED POSITIONS</p>
        </div>
    </div><br>
    <div class="card">
        <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-2" style="
            margin-left: 32px;
        ">Start Date</div>
            <div class="col-lg-2">End Date</div>

        </div>

        <div class="row FilterClass">
            <div class="col-lg-1">
                <img src="assets/Images/filter.svg" class="filter-img">
                <p class="filter">Filter By:</p>
            </div>
            <div class="col-lg-2">
                <input type="date" style="color:#0C275A;" class="form-control poppinns" name="Date" value="Date"
                    [(ngModel)]="Date">
            </div>
            <div class="col-lg-2">

                <input type="date" style="color:#0C275A;" class="form-control poppinns"
                    (change)="CandidateRegistration()" name="endDate" value="endDate" [(ngModel)]="endDate">
            </div>
            <div class="col-lg-2">

                <select class="form-control form-control poppinns" id="Role" name="Role" [(ngModel)]="Role"
                    (change)="getjobdescription($event)">
                    <option value="">Select Job Title</option>
                    <option value="{{Job.role}}" *ngFor="let Job of jobdescription ">
                        {{Job.role}}
                    </option>
                </select>
            </div>

            <div class="col-lg-2" *ngIf="roleid==6">
                <select class="form-control form-select poppinns" [(ngModel)]="hiringManager"
                    (change)="GetJobRequirements()">
                    <option value="">Select Hiring Manager</option>
                    <option *ngFor="let hr of hrlist" value="{{hr.name}}">{{hr.name}}</option>
                </select>
            </div>
            <div class="col-lg-2">
                <p class="Count">Count:{{joblist.length}}</p>
            </div>
        </div>
    </div>
</div><br>

<div class="row">
    <div class="col-lg-12" style="overflow: auto; ">
        <table class="table">
            <thead>
                <tr>
                    <th class="heading">Job Reference ID</th>
                    <th class="heading">Job Title</th>

                    <th class="heading">Date</th>
                    <th class="heading">Skill/Technology</th>
                    <th class="heading">Total Years of Experience</th>
                    <th class="heading">Job Description</th>
                    <th class="heading">Job Location</th>
                    <th class="heading">No of Positions</th>
                    <th class="heading">Hiring Manager</th>
                    <th class="heading">No Of Cvs</th>
                    <th class="heading">No Of candidates Selected</th>
                    <th class="heading">No Of candidates Offered</th>
                    <th class="heading">No Of candidates Joined</th>
                    <!-- <th class="heading">Recruiter Comments</th> -->
                </tr>
            </thead>
            <tr *ngFor="let job of joblist|paginate: { itemsPerPage: entry, currentPage: p }">
                <td>{{job.jobRefernceID}}</td>
                <td>{{job.jobTitle}}</td>

                <td><span style="width: 10px;">{{job.date}}</span></td>
                <td>
                    <button class="edit-btn" data-toggle="modal" (click)="GEtskills(job)"
                        data-target="#viewempcomments1">View</button>
                </td>
                <td>{{job.relaventExp}}</td>
                <td><button class="edit-btn" data-toggle="modal" (click)="GEtemployeecomments(job)"
                        data-target="#viewempcomments">View</button></td>

                <td>{{job.joblocation}}</td>
                <td>{{job.noofpositions}}</td>
                <td>{{job.hiringManager}}</td>



                <!-- <td>{{job.notes}}</td> -->
                <td>{{job.noofCVs}}</td>
                <td>{{job.selectedCandidates}}</td>
                <td>{{job.offeredCandidates}}</td>
                <td>{{job.joinedCandidates}}</td>


            </tr>
        </table>

        <ng-template #noResults>
            <p> NO RESULT FOUND  </p>
        </ng-template>
    </div>
    <div class="text-right">
        <br>
        <pagination-controls (pageChange)="p = $event" class="poppinns"></pagination-controls>
    </div>
     <span *ngIf="joblist.length==0">NO RESULT FOUND </span> 
</div>


<div class="modal fade" id="viewempcomments" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content" style="width: 800px;">
            <div class="modal-header">
                <h5 class="modal-title Heading" id="exampleModalLabel">Job Description</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body scroll">
                <div class="row">
                    <div class="col-lg-3">
                    </div>
                    <div class="col-lg-7 ">
                        <p style="padding:5px" [innerHTML]="description">
                        </p>
                    </div>
                    <div class="col-lg-3">

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="Edit" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="viewempcomments1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content" style="width: 800px;">
            <div class="modal-header">
                <h5 class="modal-title Heading" id="exampleModalLabel">Skillsets</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body scroll">
                <div class="row">
                    <div class="col-lg-3">
                    </div>
                    <div class="col-lg-7 ">
                        <p style="padding:5px" [innerHTML]="skills">
                        </p>
                    </div>
                    <div class="col-lg-3">

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="Edit" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>